{"is_source_file": true, "format": "TypeScript", "description": "This file defines an Angular service called AuthStore that manages authentication state (token and user info) using BehaviorSubjects, handling storage and retrieval from localStorage, with SSR safety considerations.", "external_files": ["@angular/core", "@angular/common", "rxjs"], "external_methods": ["inject", "isPlatformBrowser"], "published": ["AuthStore"], "classes": [{"name": "AuthStore", "description": "An Angular service that handles authentication token and user information, with SSR safety, using local storage and BehaviorSubjects for state management."}], "methods": [{"name": "setSession", "description": "Sets the authentication token and user information, updates BehaviorSubjects, and stores data in localStorage."}, {"name": "clearSession", "description": "Clears the authentication data from BehaviorSubjects and localStorage."}, {"name": "getToken", "description": "Returns the current authentication token from the BehaviorSubject."}, {"name": "getUser", "description": "Returns the current user object from the BehaviorSubject."}, {"name": "isAuthenticated", "description": "Checks whether a user is currently authenticated based on presence of token."}], "calls": ["this.tokenSubject.next", "this.userSubject.next", "window.localStorage.getItem", "window.localStorage.setItem", "window.localStorage.removeItem", "this.tokenSubject.getValue", "this.userSubject.getValue"], "search-terms": ["auth token storage", "SSR safe authentication service", "Angular BehaviorSubject auth", "localStorage auth", "token management"], "state": 2, "file_id": 24, "knowledge_revision": 58, "git_revision": "", "ctags": [{"_type": "tag", "name": "AuthStore", "path": "/home/kavia/workspace/code-generation/secure-login-portal-183106-183115/login_frontend/src/app/core/state/auth.store.ts", "pattern": "/^export class AuthStore {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "TOKEN_KEY", "path": "/home/kavia/workspace/code-generation/secure-login-portal-183106-183115/login_frontend/src/app/core/state/auth.store.ts", "pattern": "/^const TOKEN_KEY = 'auth_token';$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "USER_KEY", "path": "/home/kavia/workspace/code-generation/secure-login-portal-183106-183115/login_frontend/src/app/core/state/auth.store.ts", "pattern": "/^const USER_KEY = 'auth_user';$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "platformId", "path": "/home/kavia/workspace/code-generation/secure-login-portal-183106-183115/login_frontend/src/app/core/state/auth.store.ts", "pattern": "/^  private platformId = inject(PLATFORM_ID);$/", "language": "TypeScript", "kind": "property", "scope": "AuthStore", "scopeKind": "class"}, {"_type": "tag", "name": "t", "path": "/home/kavia/workspace/code-generation/secure-login-portal-183106-183115/login_frontend/src/app/core/state/auth.store.ts", "pattern": "/^        const t = window.localStorage.getItem(TOKEN_KEY);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "u", "path": "/home/kavia/workspace/code-generation/secure-login-portal-183106-183115/login_frontend/src/app/core/state/auth.store.ts", "pattern": "/^        const u = window.localStorage.getItem(USER_KEY);$/", "language": "TypeScript", "kind": "constant"}], "hash": "508007f4fd894427bd1071926941e95b", "format-version": 4, "code-base-name": "login_frontend", "filename": "login_frontend/src/app/core/state/auth.store.ts", "fields": [{"name": "private platformId = inject(PLATFORM_ID);", "scope": "AuthStore", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"58": ""}]}